# 📊 단기/스윙용 종목 탐색기 완벽 가이드

## 🎯 개요

`stock_scanner.py`는 종목번호나 티커를 입력하면 **이해하기 쉬운 신호**로 단기/스윙 투자에 필요한 모든 정보를 제공하는 종목 분석 도구입니다.

---

## 📥 설치 및 실행

### 1. 사전 요구사항

```bash
# 필요한 Python 패키지 설치
pip install pandas requests beautifulsoup4 yfinance pytz
```

### 2. 파일 위치 확인

`stock_scanner.py`는 `stock_screener.py`와 같은 디렉토리에 있어야 합니다.

### 3. 실행 방법

#### 기본 사용법
```bash
# 한국 주식 분석
python3 stock_scanner.py 005930  # 삼성전자

# 미국 주식 분석
python3 stock_scanner.py AAPL    # 애플

# 대화형 모드
python3 stock_scanner.py
```

---

## 📊 출력 정보 상세 설명

### 1️⃣ 가격 정보 💰

**종가 (확정)**: 마지막 확정된 종가
- 한국 주식: 오후 8시 이후면 오늘 종가, 그 전이면 어제 종가
- 미국 주식: 장 마감 후 오늘 종가, 장 중이면 어제 종가

**현재가 (실시간)**: 네이버 증권(한국) 또는 yfinance(미국)에서 가져온 실시간 가격

**전일 대비**: 현재가와 종가의 차이 (장 중 변경 반영)

---

### 2️⃣ 이동평균선 📈

**MA5 (5일 이동평균선)**: 단기 추세
- 현재가가 MA5 위: 단기 상승 추세
- 현재가가 MA5 아래: 단기 하락/조정

**MA20 (20일 이동평균선)**: 중기 추세
- 골든크로스: MA5가 MA20을 상향 돌파 (상승 신호)
- 데드크로스: MA5가 MA20을 하향 이탈 (하락 신호)

**MA60 (60일 이동평균선)**: 장기 추세
- **정배열**: MA60 < MA20 < MA5 (완벽한 상승 추세) 🔥

---

### 3️⃣ 진입 판단 🎯

**판단 결과**:
- ✅ **진입 가능**: 종가 기준으로 진입해도 되는 상태
- 👀 **관망**: 조건을 만족하지만 추가 신호 대기
- 🚫 **비추천**: 진입하지 않는 것이 좋은 상태

**판단 이유**:
- RSI 적정/거래량 증가/골든크로스 등 구체적인 이유 표시

---

### 4️⃣ 투자 전략 가격 💡

#### 📈 매수 추천 가격

**1차 매수 추천가**
- **가격**: (MA5 × 0.99 + MA5) / 2
- **구간**: MA5 × 0.99 ~ MA5
- **의미**: 단기 이동평균선 근처로 눌렸을 때 첫 매수
- **전략**: 60% 포지션 매수

**2차 매수 추천가**
- **가격**: (MA20 × 0.985 + MA20) / 2
- **구간**: MA20 × 0.985 ~ MA20
- **의미**: 중기 이동평균선 근처로 눌렸을 때 추가 매수
- **전략**: 40% 포지션 추가 매수로 평단가 조정

---

#### 🛑 손절 추천 가격

**1차 손절 추천가**
- **가격**: min(1차 매수 가격 × 0.97, MA20 × 0.97)
- **의미**: 1차 매수 기준 약 3% 손실 또는 MA20 하향 이탈
- **전략**: 1차 매수분 손절 기준

**2차 손절 추천가**
- **가격**: min(2차 매수 가격 × 0.97, MA20 × 0.97)
- **의미**: 2차 매수 기준 약 3% 손실 또는 MA20 하향 이탈
- **전략**: 2차 매수분 손절 기준

**손절 원칙**
- 손절 기준 도달 시 즉시 손절
- 감정적 판단 배제
- 리스크 관리 최우선

---

#### 💰 익절 추천 가격

**1차 익절 추천가**
- **가격**: 1차 매수 가격 × 1.065 (6.5% 수익)
- **RSI 과열 시**: 1차 매수 가격 × 1.05 (5% 수익)
- **의미**: 단기 수익 실현
- **전략**: 1차 매수분의 50% 익절

**2차 익절 추천가**
- **가격**: 2차 매수 가격 × 1.125 (12.5% 수익)
- **의미**: 중기 수익 실현
- **전략**: 2차 매수분의 40% 익절

**장기 익절 추천가**
- **가격**: 평균 매수 가격 × 1.225 (22.5% 수익)
- **평균 매수 가격**: 1차 매수 × 0.6 + 2차 매수 × 0.4
- **의미**: 장기 상승 추세 수익 실현
- **전략**: 잔여 포지션의 30% 익절

**익절 전략 가이드**
```
✅ 현재가가 1차 익절 도달: 1차 매수분 50% 익절
✅ 현재가가 2차 익절 도달: 2차 매수분 40% 익절
✅ 현재가가 장기 익절 도달: 잔여 포지션 30% 익절
⏳ 현재 수익률 표시: 목표 익절가까지 남은 수익률
```

---

### 6️⃣ RSI 상태 📊

**RSI (Relative Strength Index)**: 과매수/과매도 지표

- 🚨 **과매도 (RSI < 30)**: 반등 가능성 높음
- 📉 **낮음 (30-45)**: 관망 권장
- ✅ **적정 (45-55)**: 진입 적기
- 📈 **높음 (55-70)**: 주의 필요
- 🚨 **과열 (RSI > 70)**: 익절 고려

---

### 7️⃣ 거래량 상태 📊

**거래량 배수**: 평균 거래량 대비 현재 거래량

- 🔹 **저조 (< 0.8배)**: 관심 부족
- ⚖️ **정상 (0.8-1.2배)**: 보통 수준
- ✅ **증가 (1.2-2.0배)**: 관심 증가 (매수 신호)
- 📊 **활발 (2.0-3.0배)**: 강한 관심
- 🚨 **폭증 (> 3.0배)**: 과열 가능성

---

### 8️⃣ 이평선 에너지 상태 🧭

**3단계 분류 시스템**:

#### ⚫ 수렴기 (Convergence)
- **조건**: MA5와 MA20의 격차 ≤ 0.3%
- **의미**: 단기선과 중기선이 밀착, 방향성 대기
- **전략**: 관망 유지, 거래량 회복 시 진입 검토

#### 🟢 돌파기 (Breakout)
- **조건**: MA5 > MA20 and 격차 증가 중
- **의미**: 골든크로스 진입, 상승 추세 강화
- **전략**: 진입 가능, MA5 근처 눌림 시 추가 매수

#### 🔴 확산기 (Divergence)
- **조건**: MA5 < MA20 and 격차 증가 중
- **의미**: 데드크로스 진행, 하락 추세 강화
- **전략**: 보유자 주의, 신규 진입 금지

**Energy Momentum Score**: 0-100점
- 80점 이상: 강한 상승 모멘텀
- 60-80점: 보통 상승 모멘텀
- 40-60점: 약한 모멘텀
- 40점 미만: 하락 모멘텀

---

### 9️⃣ 그랜빌 법칙 📐

**8가지 이동평균선 법칙** (MA5/MA20 기준):

#### 매수 신호 ✅
- **매수 1**: 주가가 이평선을 상향 돌파 (가장 강력)
- **매수 2**: 이평선 지지 확인 후 반등 (강함)
- **매수 3**: 이평선이 우상향 유지 중 단기 조정 (보통)
- **매수 4**: 추세 복귀 신호 (약함)

#### 매도 신호 🚫
- **매도 1**: 고점 신호 (주의)
- **매도 2**: 이평선 꺾임 + 하락 지속 (강함)
- **매도 3**: 저항선 역할 (반등 실패) (보통)
- **매도 4**: 추세 이탈 확정 (가장 강력)

---

### 🔟 MACD 상태 📊

**MACD (Moving Average Convergence Divergence)**:

- ✅ **골든크로스**: MACD > Signal (상승 신호)
- 🚫 **데드크로스**: MACD < Signal (하락 신호)

**격차 해석**:
- 격차가 증가 중: 상승 모멘텀 강화
- 격차가 감소 중: 상승 모멘텀 약화

---

### 1️⃣1️⃣ 종합 판단 🎯

**종합 점수 (100점 만점)**:

#### 점수 구성
- **골든크로스 점수 (40점)**
  - 골든크로스 완료: 40점
  - 골든크로스 직전: 30점
  - 골든크로스 대기: 20점
  - 골든크로스 멀음: 0점

- **RSI 점수 (30점)**
  - 적정 (45-55): 30점
  - 보통 (40-45, 55-60): 20점
  - 주의 (30-40, 60-70): 10점
  - 비추천: 0점

- **거래량 점수 (30점)**
  - 증가 (1.2-2.0배): 30점
  - 보통 (1.0-1.2, 2.0-2.5배): 20점
  - 주의 (0.8-1.0, 2.5-3.0배): 10점
  - 비정상: 0점

#### 최종 판단
- 🟢 **매수 추천** (80점 이상): 강한 매수 신호
- 🟡 **관망 후 매수** (60-80점): 조건 개선 대기
- 🟠 **신중 검토** (40-60점): 추가 분석 필요
- 🔴 **비추천** (40점 미만): 매수 비추천

---

## 🎓 투자 전략 가이드

### 📋 단기 투자 (1-2주)

**목표**: 빠른 수익 실현

**진입 조건**:
- 종합 점수 70점 이상
- 골든크로스 완료 또는 직전
- RSI 45-60
- 거래량 1.2배 이상

**매수 전략**:
- 1차 매수 구간에서 60% 매수
- 2차 매수 구간에서 40% 매수

**익절 전략**:
- 단기 익절 (5-8%)에서 50% 익절
- 중기 익절 (10-15%)에서 30% 익절
- 장기 익절 (20-25%)에서 20% 익절

**손절**: MA20 × 0.97 이하 도달 시 손절

---

### 📋 스윙 투자 (2-4주)

**목표**: 중기 추세 수익

**진입 조건**:
- 종합 점수 75점 이상
- 골든크로스 완료
- 정배열 (MA60 < MA20 < MA5)
- RSI 45-55
- 거래량 1.5배 이상

**매수 전략**:
- 1차 매수 구간에서 50% 매수
- 2차 매수 구간에서 50% 매수

**익절 전략**:
- 단기 익절에서 30% 익절
- 중기 익절에서 40% 익절
- 장기 익절에서 30% 익절

**손절**: MA20 × 0.97 이하 도달 시 손절

---

### 📋 리스크 관리

#### 포지션 사이징
- **단기**: 총 자산의 5-10%
- **스윙**: 총 자산의 10-20%
- **최대**: 종목당 20% 이하

#### 손절 원칙
- 손절 기준 도달 시 즉시 손절
- 감정적 판단 배제
- 리스크 리워드 비율 1:2 이상

#### 익절 원칙
- 목표 수익률 도달 시 분할 익절
- 탐욕 방지
- 수익 실현 후 재투자 검토

---

## 🔍 실제 사용 예시

### 예시 1: 삼성전자 (005930)

```bash
python3 stock_scanner.py 005930
```

**출력 예시**:
```
🎯 진입 판단: ✅ 진입 가능
종합 점수: 90/100
최종 판단: 🟢 매수 추천

💰 적정 익절가
매수 평균가: 100,000원
단기 익절 (5-8%): 106,500원 (+6.5%)
중기 익절 (10-15%): 112,500원 (+12.5%)
장기 익절 (20-25%): 122,500원 (+22.5%)
```

**투자 전략**:
1. 1차 매수 구간 (MA5 근처)에서 60% 매수
2. 2차 매수 구간 (MA20 근처)에서 40% 매수
3. 단기 익절 (106,500원)에서 50% 익절
4. 중기 익절 (112,500원)에서 30% 익절
5. 장기 익절 (122,500원)에서 20% 익절

---

## ⚠️ 주의사항

### 1. 데이터 기반 분석
- 모든 분석은 **과거 데이터** 기반
- **미래 보장 없음**
- **투자 판단은 본인의 책임**

### 2. 시장 상황 고려
- 전반적인 시장 상황 확인
- 업종/테마 동향 확인
- 뉴스/공시 확인

### 3. 리스크 관리
- 분할 매수 필수
- 손절 기준 준수
- 포지션 사이징 관리

### 4. 정기적 모니터링
- 매일 종가 기준 재분석
- 지표 변화 추적
- 익절/손절 기준 재검토

---

## 📚 참고 자료

### 주요 지표 설명
- **MA (Moving Average)**: 이동평균선
- **RSI**: 상대강도지수
- **MACD**: 이동평균수렴확산지수
- **Volume Ratio**: 거래량 비율

### 투자 원칙
- **분할 매수**: 리스크 분산
- **분할 익절**: 수익 확보
- **손절 원칙**: 손실 최소화
- **정기 모니터링**: 상황 변화 대응

---

## 🆘 문제 해결

### Python3 명령어 오류
```bash
# Python 경로 확인
which python3

# 직접 경로 사용
/Library/Frameworks/Python.framework/Versions/3.13/bin/python3 stock_scanner.py 005930
```

### 데이터 수집 오류
- 인터넷 연결 확인
- 네이버 증권 접속 가능 여부 확인
- yfinance 패키지 설치 확인

### 종목명 인코딩 오류
- 기능에는 영향 없음
- 분석 결과는 정상 출력

---

## 📞 문의 및 피드백

이 도구는 **투자 보조 도구**이며, **투자 판단의 최종 책임은 본인에게 있습니다**.

**주의**: 주식 투자는 원금 손실 위험이 있습니다. 신중한 투자 결정을 권장합니다.

---

**마지막 업데이트**: 2025년 11월

