# 📊 주식 스크리너 - 명령어 총정리 가이드

> 💡 **노션에 복사-붙여넣기용 문서**  
> 모든 명령어를 한 곳에 모았습니다. 필요할 때 바로 찾아서 사용하세요!

---

## 🚀 기본 실행 방법

### 필수 준비 작업
```bash
# 1. 작업 디렉토리로 이동
cd /Users/sinhyein/Documents/주식투자_혜인

# 2. 카테고리 목록 업데이트 (최초 1회 또는 주기적으로)
python3 stock_screener.py --update-categories
```

---

## 🇰🇷 한국 주식 스크리닝 명령어

### ✨ 업종별 스크리닝 (권장)

#### 화장품 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "화장품" --top-limit 30
```

#### 소프트웨어 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "소프트웨어" --top-limit 30
```

#### 기계 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "기계" --top-limit 30
```

#### 반도체와반도체장비 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "반도체와반도체장비" --top-limit 30
```

#### 자동차 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "자동차" --top-limit 30
```

#### 제약 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "제약" --top-limit 30
```

#### 은행 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "은행" --top-limit 30
```

#### IT서비스 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "IT서비스" --top-limit 30
```

#### 게임엔터테인먼트 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "게임엔터테인먼트" --top-limit 30
```

#### 전자제품 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "전자제품" --top-limit 30
```

#### 화학 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "화학" --top-limit 30
```

#### 철강 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "철강" --top-limit 30
```

#### 건설 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "건설" --top-limit 30
```

#### 부동산 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "부동산" --top-limit 30
```

### 📈 시장별 스크리닝

#### 코스피 전체
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "코스피" --top-limit 50
```

#### 코스닥 전체
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "코스닥" --top-limit 50
```

### 🎯 TOP 종목 자동 스크리닝

#### 한국 주식 TOP 50
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --top-korea
```

#### 한국 주식 TOP 100
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --top-korea --top-limit 100
```

---

## 🇺🇸 미국 주식 스크리닝 명령어

### ✨ 섹터별 스크리닝 (권장)

#### Information Technology 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Information Technology" --top-limit 30
```

#### Health Care 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Health Care" --top-limit 30
```

#### Financials 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Financials" --top-limit 30
```

#### Consumer Discretionary 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Consumer Discretionary" --top-limit 30
```

#### Communication Services 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Communication Services" --top-limit 30
```

#### Industrials 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Industrials" --top-limit 30
```

#### Energy 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Energy" --top-limit 30
```

#### Materials 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Materials" --top-limit 30
```

#### Real Estate 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Real Estate" --top-limit 30
```

#### Utilities 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Utilities" --top-limit 30
```

#### Consumer Staples 섹터
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Consumer Staples" --top-limit 30
```

### 🔬 업종별 스크리닝

#### Application Software 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Application Software" --top-limit 30
```

#### Semiconductors 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Semiconductors" --top-limit 30
```

#### Biotechnology 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Biotechnology" --top-limit 30
```

#### Aerospace & Defense 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Aerospace & Defense" --top-limit 30
```

#### Automobile Manufacturers 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Automobile Manufacturers" --top-limit 30
```

#### Internet Content & Information 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Internet Content & Information" --top-limit 30
```

#### Pharmaceuticals 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Pharmaceuticals" --top-limit 30
```

#### Banks 업종
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Banks" --top-limit 30
```

### 📊 지수별 스크리닝

#### S&P 500
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "S&P 500" --top-limit 50
```

#### NASDAQ 100
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "NASDAQ 100" --top-limit 50
```

### 🎯 TOP 종목 자동 스크리닝

#### 미국 주식 TOP 50
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --top-us
```

#### 미국 주식 TOP 100
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --top-us --top-limit 100
```

---

## ⚙️ 조건 조정 명령어

### 한국 주식 - 화장품 (관대한 조건)
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "화장품" --rsi-min 40 --rsi-max 70 --volume-min 0.5 --volume-max 3.0 --top-limit 30
```

### 한국 주식 - 소프트웨어 (관대한 조건)
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "소프트웨어" --rsi-min 40 --rsi-max 70 --volume-min 0.5 --volume-max 3.0 --top-limit 30
```

### 미국 주식 - IT 섹터 (관대한 조건)
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Information Technology" --rsi-min 40 --rsi-max 70 --volume-min 0.5 --volume-max 3.0 --top-limit 30
```

### 미국 주식 - 반도체 업종 (관대한 조건)
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Semiconductors" --rsi-min 40 --rsi-max 70 --volume-min 0.5 --volume-max 3.0 --top-limit 30
```

### 한국 주식 - 화장품 (엄격한 조건 - 기본값)
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "화장품" --rsi-min 45 --rsi-max 55 --volume-min 1.2 --volume-max 2.0 --top-limit 30
```

### 미국 주식 - IT 섹터 (엄격한 조건 - 기본값)
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Information Technology" --rsi-min 45 --rsi-max 55 --volume-min 1.2 --volume-max 2.0 --top-limit 30
```

---

## 🔄 카테고리 관리

### 카테고리 목록 업데이트
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --update-categories
```

### CSV 파일 확인
```bash
cat /Users/sinhyein/Documents/주식투자_혜인/stock_categories.csv
```

---

## 📝 직접 종목 입력

### 한국 주식 직접 입력
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py 005930 035720
```

### 미국 주식 직접 입력
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py NVDA TSLA AAPL
```

### 파일에서 종목 읽기
```bash
cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --file tickers.txt
```

---

## 🎯 반등 신호 조건 설명

### 기본 조건 (3가지 모두 만족)
1. **골든 크로스 직전/직후**
   - MA5가 MA20보다 위 (직후)
   - 또는 MA5가 MA20보다 2% 이내로 낮음 (직전)

2. **RSI 범위**
   - 기본값: 45~55 (과매도 끝, 반등 준비)
   - 조정: `--rsi-min 40 --rsi-max 70`

3. **거래량 조건**
   - 기본값: 평균 대비 1.2~2.0배 (관심 집중)
   - 조정: `--volume-min 0.5 --volume-max 3.0`

### 거래량 신호 수준
- 🔹 **1.0배 이하**: 평소 거래량 수준 (관심 없음)
- ⚡ **1.2~1.5배**: 관심이 붙기 시작한 초기 신호 (관망)
- ✅ **1.5~2.5배**: 본격적인 매수세 진입 (매수 유효 구간)
- ⚠️ **3~5배 이상**: 단기 과열 또는 단타 세력 진입 (익절·조심)
- ❌ **10배 이상**: 급등 뉴스·테마주, 급등 후 피크 가능성 (진입 금지)

---

## 🧭 MA Energy State (이평선 에너지 감시기)

### 기능 개요
MA5와 MA20의 거리(격차)와 변화 속도(기울기)를 매일 계산하여 3단계로 자동 분류합니다.

### 3단계 분류

| 단계 | 상태명 | 조건 | 해석 | 투자 판단 |
|------|--------|------|------|-----------|
| ⚫ | **수렴기 (Convergence)** | `abs(MA5 - MA20) ≤ 0.3%` | 두 선이 붙어 있음 | 추세 전환 대기 | 👀 관망 / 눌림 대기 |
| 🟢 | **돌파기 (Breakout)** | `MA5 > MA20` and 격차 증가 중 | 단기선이 위로 돌파 | 골든크로스 진행 중 | ✅ 진입 가능 |
| 🔴 | **확산기 (Divergence)** | `MA5 < MA20` and 격차 증가 중 | 단기선이 아래로 벌어짐 | 데드크로스 진행 중 | ⚠️ 보유자 주의 / 신규 진입 금지 |

### 예시 출력

#### 수렴기 (Convergence)
```
🧭 MA Energy State: ⚫ 수렴기 (Convergence)
   MA5: $295.05 / MA20: $295.10 (격차: -0.02%)
   기울기 변화율: -0.03% → -0.02% (감소 중)
   💡 단기선이 중기선과 밀착, 방향성 대기 상태
   🧭 전략 제안: 관망 유지 / 거래량 회복 시 진입 검토
   📊 Energy Momentum Score: 50/100점
```

#### 돌파기 (Breakout)
```
🧭 MA Energy State: 🟢 돌파기 (Breakout)
   MA5: $126.00 / MA20: $125.00 (격차: +0.84%)
   기울기 변화율: +0.12% → +0.32% (확산 중)
   💡 골든크로스 진입, 상승 추세 강화 중
   🧭 전략 제안: 진입 가능 (MA5 근처 눌림 시 추가 매수)
   📊 Energy Momentum Score: 85/100점
```

#### 확산기 (Divergence)
```
🧭 MA Energy State: 🔴 확산기 (Divergence)
   MA5: $918.47 / MA20: $929.82 (격차: -1.22%)
   기울기 변화율: -1.13% (감소 중)
   💡 데드크로스 진행 중, 하락 추세 강화
   🧭 전략 제안: 보유자 주의 / 신규 진입 금지
   📊 Energy Momentum Score: 30/100점
```

### Energy Momentum Score
MA 격차 + 기울기 + RSI를 종합해 0~100점으로 점수화합니다.

- **점수 구성**
  - MA Energy State: 40점 (Breakout=40, Convergence=20, Divergence=0)
  - 기울기 변화율: 30점 (강한 상승 추세일수록 높은 점수)
  - RSI: 30점 (45~60 범위일 때 최고점)

- **해석**
  - 80점 이상: 매우 강한 상승 추세
  - 60~79점: 상승 추세 유지
  - 40~59점: 추세 전환 대기
  - 20~39점: 하락 추세
  - 20점 미만: 강한 하락 추세

### 자동 표시
스크리닝 결과에서 각 종목마다 자동으로 표시됩니다:
- 반등 신호 발견 종목
- TOP 10 후보 종목
- 개별 종목 분석 시

### 활용 팁
1. **수렴기**: 골든크로스 직전 신호, 거래량 증가 시 진입 고려
2. **돌파기**: 상승 추세 확인, MA5 근처 눌림 시 추가 매수 기회
3. **확산기**: 하락 추세, 신규 진입 금지, 보유 시 손절 고려

---

## 📋 옵션 전체 설명

| 옵션 | 설명 | 기본값 | 예시 |
|------|------|--------|------|
| `--category-korea` | 한국 주식 카테고리 이름 | - | `"화장품"` |
| `--category-us` | 미국 주식 카테고리 이름 | - | `"Information Technology"` |
| `--top-korea` | 한국 주식 TOP 자동 크롤링 | - | `--top-korea` |
| `--top-us` | 미국 주식 TOP 자동 크롤링 | - | `--top-us` |
| `--top-limit` | TOP 종목 개수 | 50 | `--top-limit 30` |
| `--rsi-min` | RSI 최소값 | 45 | `--rsi-min 40` |
| `--rsi-max` | RSI 최대값 | 55 | `--rsi-max 70` |
| `--volume-min` | 거래량 최소 배수 | 1.2 | `--volume-min 0.5` |
| `--volume-max` | 거래량 최대 배수 | 2.0 | `--volume-max 3.0` |
| `--period` | 데이터 기간 | 3mo | `--period 6mo` |
| `--update-categories` | 카테고리 목록 업데이트 | - | `--update-categories` |
| `--file` | 파일에서 종목 읽기 | - | `--file tickers.txt` |

---

## 💡 사용 팁

### 1. 처음 사용 시
```bash
# 카테고리 목록 업데이트 필수!
cd /Users/sinhyein/Documents/주식투자_혜인
python3 stock_screener.py --update-categories
```

### 2. 더 많은 종목을 찾으려면
- RSI 범위 넓히기: `--rsi-min 40 --rsi-max 70`
- 거래량 범위 넓히기: `--volume-min 0.5 --volume-max 3.0`

### 3. 더 정확한 신호를 찾으려면
- 기본값 유지 (RSI 45~55, 거래량 1.2~2.0배)

### 4. 종목 개수 조절
- `--top-limit 20`: 상위 20개만 스크리닝
- `--top-limit 50`: 상위 50개 스크리닝

### 5. 카테고리 이름 확인
```bash
# CSV 파일에서 확인
cat stock_categories.csv | grep 한국
cat stock_categories.csv | grep 미국
```

---

## ⚠️ 주의사항

- 반등 신호는 **투자 참고용**이며, 실제 투자 결정은 본인의 판단이 필요합니다
- 데이터는 네이버 증권과 야후 파이낸스에서 크롤링되므로 오류나 지연이 있을 수 있습니다
- 카테고리 목록은 **주기적으로 업데이트**하는 것을 권장합니다
- **명령어 실행 전 반드시 작업 디렉토리로 이동**하세요

---

## 🚨 오류 발생 시 해결 방법

### 1. "command not found" 오류
```bash
# python3 확인
python3 --version

# 작업 디렉토리 확인
cd /Users/sinhyein/Documents/주식투자_혜인
pwd
```

### 2. "카테고리를 찾을 수 없습니다" 오류
```bash
# 카테고리 목록 업데이트
python3 stock_screener.py --update-categories
```

### 3. "데이터 없음" 오류
- 네트워크 연결 확인
- 종목 코드 확인
- 카테고리 이름 정확성 확인

---

## 📞 빠른 참조

### 가장 많이 사용하는 명령어 TOP 5

1. **한국 - 화장품 업종**
   ```bash
   cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "화장품" --top-limit 30
   ```

2. **한국 - 소프트웨어 업종**
   ```bash
   cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-korea "소프트웨어" --top-limit 30
   ```

3. **미국 - IT 섹터**
   ```bash
   cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Information Technology" --top-limit 30
   ```

4. **미국 - 반도체 업종**
   ```bash
   cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --category-us "Semiconductors" --top-limit 30
   ```

5. **카테고리 업데이트**
   ```bash
   cd /Users/sinhyein/Documents/주식투자_혜인 && python3 stock_screener.py --update-categories
   ```

