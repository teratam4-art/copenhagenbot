# 🤖 나만의 주식 도우미 (AI 수급 분석 트레이더) 사용법

## 📋 개요

외국인과 기관의 매매 패턴을 분석하여 **물량 털기** vs **진짜 이탈**을 판단하고, 매수/매도 타이밍을 제시하는 프로그램입니다.

## 🚀 설치

```bash
pip install -r requirements_trader.txt
```

## 💻 사용법

### 기본 사용법

```bash
# 한국 주식 분석
python main_trader.py --code 035720

# 미국 주식 분석
python main_trader.py --code AAPL
```

### 예시 출력

```
======================================================================
🤖 나만의 주식 도우미 (AI 수급 분석 트레이더)
======================================================================

📥 데이터 수집 중... (한국 주식)

======================================================================
📊 카카오 (035720) 분석 결과
======================================================================

[현재 상황]
현재가: 60,700원
외국인: 📉 매도 (최근 5일 평균: -12,345주)
기관: 📈 매수 (최근 5일 평균: +8,901주)
거래량 추세: 유지

패턴 판단: 🟡 물량_털기 (신뢰도: 75%)
→ 외국인 매도 중이지만 기관이 매수하고 있고, 거래량이 유지하며 가격이 20일선 위에 있어 물량 털기 가능성이 높습니다.

RSI: 58.3 (강세)
20일선 대비: +2.1%

======================================================================
[추천 전략]
======================================================================

💰 1차 매수: 59,000원
   예상 도달: 약 3일 후
   이유: MA5 근처 눌림 구간 (1차 매수)

💰 2차 매수: 57,500원
   예상 도달: 약 5일 후
   이유: MA20 근처 눌림 구간 (2차 매수)

💡 전략: 물량 털기 패턴: 단기 조정 후 상승 가능성이 높으므로 눌림 구간에서 매수 추천

📈 1차 익절: 62,000원
📈 2차 익절: 64,000원
   이유: 상승 패턴이므로 공격적 익절 추천

🛑 손절가: 56,000원
   손실률: -3.0%
   이유: MA20 이탈 시 손절 (3% 하락)

======================================================================
[요약]
======================================================================

🟡 단기 조정 후 상승 가능성 75%
```

## 📊 패턴 설명

### 🟡 물량 털기
- **조건**: 외국인 매도 + 기관 매수 + 거래량 유지/증가 + 가격이 MA20 위
- **의미**: 단기 조정 후 상승 가능성 높음
- **전략**: 눌림 구간에서 매수 추천

### 🟢 상승 신호
- **조건**: 외국인 매수 + 기관 매수
- **의미**: 시장이 진짜 좋아졌다는 신호
- **전략**: 적극 매수 추천

### 🔴 진짜 이탈
- **조건**: 외국인 매도 + 기관도 매도 + 거래량 감소
- **의미**: 하락 전환 가능성 높음
- **전략**: 매수 비추천, 관망 권장

### ⚪ 불명확
- **조건**: 명확한 패턴이 감지되지 않음
- **의미**: 추가 관찰 필요
- **전략**: 보수적 접근 권장

## 📁 파일 구조

- `data_fetcher.py`: 주식 데이터 및 외국인/기관 매매 데이터 수집
- `pattern_detector.py`: 물량 털기 vs 진짜 이탈 판단
- `signal_generator.py`: 매수/매도 타이밍 계산
- `risk_manager.py`: 손절가/익절가 계산
- `main_trader.py`: 메인 실행 파일

## ⚠️ 주의사항

1. 이 프로그램은 **참고용**입니다. 실제 투자 결정은 본인의 판단에 따라야 합니다.
2. 외국인/기관 매매 데이터는 한국 주식에만 제공됩니다.
3. 미국 주식은 외국인/기관 매매 데이터가 없어 패턴 판단이 제한적일 수 있습니다.

## 🔧 문제 해결

### 데이터 수집 실패 시
- 네트워크 연결 확인
- 종목 코드 확인 (한국: 6자리 숫자, 미국: 티커)
- `stock_screener.py` 파일이 같은 디렉토리에 있는지 확인

### 외국인/기관 데이터가 없을 때
- 한국 주식인지 확인
- 네이버 증권 페이지에서 해당 종목의 외국인/기관 매매 데이터가 제공되는지 확인

