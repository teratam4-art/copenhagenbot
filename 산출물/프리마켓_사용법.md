# 프리마켓 가격 기준 분석 사용법

## 📋 개요

미국 주식의 프리마켓(Pre-Market) 또는 애프터마켓(After-Market) 가격을 기준으로 매수/손절/익절 가격을 분석할 수 있습니다.

## 🚀 사용 방법

### 기본 사용법

```bash
# 정규장 가격 기준 (기본)
python3 stock_scanner.py AAPL

# 프리마켓/애프터마켓 가격 기준
python3 stock_scanner.py AAPL --premarket

# 축약형
python3 stock_scanner.py AAPL -p
```

## ⏰ 프리마켓/애프터마켓 시간대

### 미국 동부 시간 (ET) 기준
- **프리마켓**: 오전 4:00 ~ 9:30 (정규장 시작 전)
- **정규장**: 오전 9:30 ~ 오후 4:00
- **애프터마켓**: 오후 4:00 ~ 8:00 (정규장 마감 후)

### 한국 시간 (KST) 기준
- **프리마켓**: 오후 6:00 ~ 오후 11:30 (한국 시간)
- **정규장**: 오후 11:30 ~ 다음날 오전 6:00
- **애프터마켓**: 오전 6:00 ~ 오전 10:00

## 📊 출력 예시

```
💰 가격 정보
   종가 (확정): 270.14달러
   현재가 (실시간 (프리마켓)): 270.25달러 ✅
   📈 전일 대비: +0.11달러 (+0.04%)

💡 투자 전략 가격 (실시간 가격 기준)
   (프리마켓 가격 기준으로 계산됨)

📈 매수 추천 가격
   1차 매수: 268.50달러 ... (예상 도달: 약 1일) (도달 확률: 65.0%)
   
💰 익절 추천 가격
   1차 익절: 285.95달러 ... (예상 도달: 약 2일) (도달 확률: 72.0%)
```

## 💡 활용 시나리오

### 시나리오 1: 프리마켓에서 급등/급락 발생 시
```bash
python3 stock_scanner.py NVDA --premarket
```
→ 프리마켓 가격 기준으로 매수/익절 가격 재계산

### 시나리오 2: 애프터마켓에서 실적 발표 후
```bash
python3 stock_scanner.py TSLA --premarket
```
→ 애프터마켓 반응을 반영한 매수/익절 가격 확인

### 시나리오 3: 다음날 장 시작 전 전략 수립
```bash
python3 stock_scanner.py AAPL --premarket
```
→ 프리마켓 가격을 기준으로 당일 매수/익절 가격 계획

## ⚠️ 주의사항

1. **프리마켓/애프터마켓은 거래량이 적어 변동성이 큽니다**
   - 가격이 정규장보다 불안정할 수 있음
   - 실제 거래는 제한적일 수 있음

2. **한국 주식은 지원하지 않습니다**
   - `--premarket` 옵션은 미국 주식에만 적용됨
   - 한국 주식은 정규장 가격만 사용

3. **장 마감 후에는 애프터마켓 가격이 표시됩니다**
   - 자동으로 프리마켓/애프터마켓 구분
   - 현재 시간에 따라 표시됨

## 🔍 코드 참고

프리마켓 가격을 사용하는 코드 예시:

```python
from stock_scanner import analyze_stock

# 프리마켓 가격 기준으로 분석
analyze_stock('AAPL', use_premarket=True)
```

## 📝 추가 정보

- 프리마켓 가격은 `yfinance`의 `history(..., prepost=True)` 옵션으로 가져옵니다
- 최근 1분 데이터를 우선 사용하여 가장 정확한 실시간 가격을 가져옵니다

